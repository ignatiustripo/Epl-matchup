<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EFOOTBALL SHOWDOWN - Complete Tournament System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00f3ff;
            --secondary: #ff0055;
            --accent: #9d4edd;
            --coach: #ff9900;
            --dark: #0a0a15;
            --darker: #05050c;
            --light: #f0f8ff;
            --gray: #2a2a3a;
            --success: #00ff9d;
            --warning: #ffcc00;
            --info: #00b7ff;
            
            --glow-primary: 0 0 20px rgba(0, 243, 255, 0.7);
            --glow-secondary: 0 0 20px rgba(255, 0, 85, 0.7);
            --glow-accent: 0 0 20px rgba(157, 78, 221, 0.7);
            --glow-coach: 0 0 20px rgba(255, 153, 0, 0.7);
            --glow-success: 0 0 15px rgba(0, 255, 157, 0.7);
            --glow-warning: 0 0 15px rgba(255, 204, 0, 0.7);
            --glow-info: 0 0 15px rgba(0, 183, 255, 0.7);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--darker);
            color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        /* Glowing Button Animations */
        .btn-glow {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .btn-glow-primary {
            background: linear-gradient(135deg, var(--primary), #00a8cc);
            border: none;
            color: var(--dark);
            box-shadow: var(--glow-primary);
            animation: pulse-primary 2s infinite alternate;
        }
        
        .btn-glow-secondary {
            background: linear-gradient(135deg, var(--secondary), #cc0044);
            border: none;
            color: var(--light);
            box-shadow: var(--glow-secondary);
            animation: pulse-secondary 2s infinite alternate;
        }
        
        .btn-glow-accent {
            background: linear-gradient(135deg, var(--accent), #7a2fb3);
            border: none;
            color: var(--light);
            box-shadow: var(--glow-accent);
            animation: pulse-accent 2s infinite alternate;
        }
        
        .btn-glow-coach {
            background: linear-gradient(135deg, var(--coach), #cc7a00);
            border: none;
            color: var(--dark);
            box-shadow: var(--glow-coach);
            animation: pulse-coach 2s infinite alternate;
        }
        
        .btn-glow-success {
            background: linear-gradient(135deg, var(--success), #00cc7a);
            border: none;
            color: var(--dark);
            box-shadow: var(--glow-success);
            animation: pulse-success 2s infinite alternate;
        }
        
        @keyframes pulse-primary {
            0% { box-shadow: 0 0 15px rgba(0, 243, 255, 0.7); }
            100% { box-shadow: 0 0 25px rgba(0, 243, 255, 0.9); }
        }
        
        @keyframes pulse-secondary {
            0% { box-shadow: 0 0 15px rgba(255, 0, 85, 0.7); }
            100% { box-shadow: 0 0 25px rgba(255, 0, 85, 0.9); }
        }
        
        @keyframes pulse-accent {
            0% { box-shadow: 0 0 15px rgba(157, 78, 221, 0.7); }
            100% { box-shadow: 0 0 25px rgba(157, 78, 221, 0.9); }
        }
        
        @keyframes pulse-coach {
            0% { box-shadow: 0 0 15px rgba(255, 153, 0, 0.7); }
            100% { box-shadow: 0 0 25px rgba(255, 153, 0, 0.9); }
        }
        
        @keyframes pulse-success {
            0% { box-shadow: 0 0 15px rgba(0, 255, 157, 0.7); }
            100% { box-shadow: 0 0 25px rgba(0, 255, 157, 0.9); }
        }
        
        .btn-glow:hover {
            transform: translateY(-3px) scale(1.05);
            filter: brightness(1.1);
        }
        
        /* Main button styles */
        .btn {
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-family: 'Rajdhani', sans-serif;
            border: none;
        }
        
        .btn-sm {
            padding: 8px 15px;
            font-size: 0.9rem;
        }
        
        .btn-primary {
            background: var(--primary);
            color: var(--dark);
        }
        
        .btn-secondary {
            background: var(--secondary);
            color: var(--light);
        }
        
        .btn-accent {
            background: var(--accent);
            color: var(--light);
        }
        
        .btn-coach {
            background: var(--coach);
            color: var(--dark);
        }
        
        /* Container */
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header & Navigation */
        header {
            background: rgba(10, 10, 20, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 243, 255, 0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            color: var(--primary);
            font-size: 2.5rem;
            filter: drop-shadow(var(--glow-primary));
        }
        
        .logo-text {
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
            font-family: 'Orbitron', sans-serif;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: 30px;
        }
        
        .nav-links a {
            color: var(--light);
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            padding: 10px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .nav-links a:hover,
        .nav-links a.active {
            color: var(--primary);
            background: rgba(0, 243, 255, 0.1);
        }
        
        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 15px;
            right: 15px;
            height: 2px;
            background: var(--primary);
            box-shadow: var(--glow-primary);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--dark);
        }
        
        .user-name {
            font-weight: 600;
            color: var(--primary);
        }
        
        .role-badge {
            background: rgba(0, 243, 255, 0.2);
            color: var(--primary);
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            border: 1px solid rgba(0, 243, 255, 0.3);
        }
        
        .admin-only {
            background: rgba(255, 0, 85, 0.2);
            color: var(--secondary);
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-left: 8px;
            border: 1px solid rgba(255, 0, 85, 0.3);
        }
        
        .coach-only {
            background: rgba(255, 153, 0, 0.2);
            color: var(--coach);
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-left: 8px;
            border: 1px solid rgba(255, 153, 0, 0.3);
        }
        
        /* Main Content */
        main {
            padding: 40px 0;
            min-height: calc(100vh - 140px);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(9, 9, 20, 0.8) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 243, 255, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 50% 50%, rgba(157, 78, 221, 0.03) 0%, transparent 30%);
        }
        
        .dashboard-section {
            display: none;
        }
        
        .dashboard-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }
        
        .section-title {
            font-size: 2.5rem;
            font-family: 'Orbitron', sans-serif;
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(0, 243, 255, 0.5);
        }
        
        /* Authentication Pages */
        .auth-container {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: var(--darker);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(9, 9, 20, 0.8) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 243, 255, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 50% 50%, rgba(157, 78, 221, 0.03) 0%, transparent 30%);
        }
        
        .auth-card {
            background: rgba(20, 20, 40, 0.9);
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 450px;
            border: 1px solid rgba(0, 243, 255, 0.2);
            box-shadow: 0 20px 50px rgba(0, 243, 255, 0.2);
            backdrop-filter: blur(10px);
            animation: slideUp 0.5s ease;
        }
        
        .auth-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .auth-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .auth-logo-icon {
            color: var(--primary);
            font-size: 2.5rem;
            filter: drop-shadow(var(--glow-primary));
        }
        
        .auth-logo-text {
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
            font-family: 'Orbitron', sans-serif;
        }
        
        .auth-title {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 10px;
            font-family: 'Orbitron', sans-serif;
        }
        
        .auth-subtitle {
            color: #aaa;
            font-size: 1rem;
        }
        
        .role-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .role-option {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: rgba(30, 30, 50, 0.5);
            border-radius: 8px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .role-option:hover {
            background: rgba(30, 30, 50, 0.8);
            transform: translateY(-3px);
        }
        
        .role-option.selected {
            border-color: var(--primary);
            background: rgba(0, 243, 255, 0.1);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
            transform: translateY(-3px);
        }
        
        .role-option[data-role="admin"].selected {
            border-color: var(--secondary);
            background: rgba(255, 0, 85, 0.1);
            box-shadow: 0 0 15px rgba(255, 0, 85, 0.3);
        }
        
        .role-option[data-role="coach"].selected {
            border-color: var(--coach);
            background: rgba(255, 153, 0, 0.1);
            box-shadow: 0 0 15px rgba(255, 153, 0, 0.3);
        }
        
        .role-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .role-option[data-role="player"] .role-icon { color: var(--primary); }
        .role-option[data-role="admin"] .role-icon { color: var(--secondary); }
        .role-option[data-role="coach"] .role-icon { color: var(--coach); }
        
        .role-name {
            font-weight: 600;
            color: var(--light);
        }
        
        .auth-form .form-group {
            margin-bottom: 25px;
        }
        
        .auth-form label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--primary);
        }
        
        .auth-form input,
        .auth-form select {
            width: 100%;
            padding: 15px;
            background: rgba(10, 10, 20, 0.8);
            border: 1px solid rgba(0, 243, 255, 0.3);
            border-radius: 8px;
            color: var(--light);
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .auth-form input:focus,
        .auth-form select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }
        
        .auth-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            font-size: 0.9rem;
        }
        
        .remember-me {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .forgot-password {
            color: var(--accent);
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .forgot-password:hover {
            color: var(--primary);
            text-shadow: 0 0 10px var(--primary);
        }
        
        .auth-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--primary), #00a8cc);
            border: none;
            border-radius: 8px;
            color: var(--dark);
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--glow-primary);
            font-family: 'Rajdhani', sans-serif;
            animation: pulse-primary 2s infinite alternate;
        }
        
        .auth-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 25px rgba(0, 243, 255, 0.9);
            animation: none;
        }
        
        .auth-footer {
            text-align: center;
            margin-top: 30px;
            color: #aaa;
        }
        
        .auth-switch {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            margin-left: 5px;
            transition: all 0.3s ease;
        }
        
        .auth-switch:hover {
            text-shadow: 0 0 10px var(--primary);
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* Dashboard Cards */
        .card {
            background: rgba(25, 25, 45, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 243, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(5px);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .card-title {
            font-size: 1.8rem;
            color: var(--primary);
            font-family: 'Orbitron', sans-serif;
        }
        
        /* Player-specific dashboard elements */
        .player-welcome {
            background: linear-gradient(135deg, rgba(0, 243, 255, 0.1), rgba(157, 78, 221, 0.1));
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 243, 255, 0.2);
        }
        
        .player-stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .player-stat-card {
            background: rgba(30, 30, 50, 0.7);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(0, 243, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .player-stat-card:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 243, 255, 0.3);
            box-shadow: 0 10px 20px rgba(0, 243, 255, 0.1);
        }
        
        .player-stat-value {
            font-size: 2.2rem;
            font-weight: 900;
            font-family: 'Orbitron', sans-serif;
            color: var(--primary);
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.7);
            margin: 10px 0;
        }
        
        .player-stat-label {
            font-size: 1rem;
            color: #aaa;
        }
        
        /* Tournament Grid */
        .tournament-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .tournament-card {
            background: rgba(40, 40, 60, 0.7);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(0, 243, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .tournament-card:hover {
            transform: translateY(-8px);
            border-color: rgba(0, 243, 255, 0.4);
            box-shadow: 0 15px 30px rgba(0, 243, 255, 0.15);
        }
        
        .tournament-type {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 243, 255, 0.2);
            color: var(--primary);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .tournament-status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .status-active {
            background: rgba(0, 255, 157, 0.2);
            color: var(--success);
            box-shadow: 0 0 10px rgba(0, 255, 157, 0.3);
        }
        
        .status-upcoming {
            background: rgba(0, 183, 255, 0.2);
            color: var(--info);
            box-shadow: 0 0 10px rgba(0, 183, 255, 0.3);
        }
        
        .status-completed {
            background: rgba(157, 78, 221, 0.2);
            color: var(--accent);
            box-shadow: 0 0 10px rgba(157, 78, 221, 0.3);
        }
        
        /* Admin Control Panel */
        .admin-control-panel {
            background: linear-gradient(145deg, rgba(30, 30, 60, 0.9), rgba(15, 15, 35, 0.9));
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 0, 85, 0.2);
        }
        
        .admin-control-title {
            color: var(--secondary);
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .admin-control-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .admin-control-item {
            background: rgba(40, 40, 60, 0.7);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(255, 0, 85, 0.1);
            transition: all 0.3s ease;
        }
        
        .admin-control-item:hover {
            border-color: rgba(255, 0, 85, 0.3);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 0, 85, 0.1);
        }
        
        .admin-control-icon {
            font-size: 2rem;
            color: var(--secondary);
            margin-bottom: 15px;
        }
        
        .admin-control-name {
            font-weight: 600;
            color: var(--light);
            margin-bottom: 10px;
        }
        
        .admin-control-desc {
            font-size: 0.9rem;
            color: #aaa;
            margin-bottom: 15px;
        }
        
        /* Coach Panel */
        .coach-control-panel {
            background: linear-gradient(145deg, rgba(40, 35, 25, 0.9), rgba(25, 20, 15, 0.9));
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 153, 0, 0.2);
        }
        
        .coach-control-title {
            color: var(--coach);
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .coach-control-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .coach-control-item {
            background: rgba(50, 45, 35, 0.7);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(255, 153, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .coach-control-item:hover {
            border-color: rgba(255, 153, 0, 0.3);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 153, 0, 0.1);
        }
        
        .coach-control-icon {
            font-size: 2rem;
            color: var(--coach);
            margin-bottom: 15px;
        }
        
        /* Player Status Panel */
        .player-status-panel {
            background: rgba(25, 25, 45, 0.8);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid var(--info);
        }
        
        .player-status-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .player-status-title {
            color: var(--info);
            font-weight: 600;
        }
        
        .player-status-list {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .player-status-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 8px;
            background: rgba(30, 30, 50, 0.5);
            transition: all 0.3s ease;
        }
        
        .player-status-item:hover {
            background: rgba(30, 30, 50, 0.8);
            transform: translateX(5px);
        }
        
        .player-status-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 15px;
        }
        
        .player-status-info {
            flex: 1;
        }
        
        .player-status-name {
            font-weight: 600;
            color: var(--light);
        }
        
        .player-status-role {
            font-size: 0.8rem;
            color: #aaa;
        }
        
        .player-status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-left: 10px;
        }
        
        .status-online {
            background: var(--success);
            box-shadow: 0 0 10px var(--success);
            animation: pulse 2s infinite;
        }
        
        .status-offline {
            background: var(--gray);
        }
        
        .status-away {
            background: var(--warning);
            box-shadow: 0 0 10px var(--warning);
            animation: pulse 2s infinite;
        }
        
        .status-playing {
            background: var(--accent);
            box-shadow: 0 0 10px var(--accent);
            animation: pulse 1s infinite;
        }
        
        /* Coach Player Signing */
        .sign-player-form {
            background: rgba(35, 30, 25, 0.8);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 153, 0, 0.2);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .player-signing-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .player-signing-card {
            background: rgba(40, 35, 30, 0.7);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(255, 153, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .player-signing-card:hover {
            border-color: rgba(255, 153, 0, 0.3);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 153, 0, 0.1);
        }
        
        .player-signing-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--coach);
            margin-bottom: 5px;
        }
        
        .player-signing-details {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-size: 0.9rem;
            color: #aaa;
        }
        
        /* Real-time Update Indicators */
        .realtime-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(0, 255, 157, 0.2);
            color: var(--success);
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            margin-left: 15px;
            animation: pulse 2s infinite;
        }
        
        .realtime-dot {
            width: 10px;
            height: 10px;
            background: var(--success);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--success);
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        /* Real-time Notification */
        .realtime-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, rgba(30, 30, 60, 0.95), rgba(20, 20, 40, 0.95));
            border-left: 5px solid var(--info);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            z-index: 3000;
            transform: translateX(150%);
            transition: transform 0.5s ease;
            max-width: 300px;
        }
        
        .realtime-notification.show {
            transform: translateX(0);
        }
        
        .realtime-notification-title {
            font-weight: 700;
            color: var(--info);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Table Styles */
        .table-responsive {
            overflow-x: auto;
            margin-top: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: rgba(0, 243, 255, 0.1);
            color: var(--primary);
            padding: 15px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid rgba(0, 243, 255, 0.2);
        }
        
        td {
            padding: 15px;
            border-bottom: 1px solid rgba(0, 243, 255, 0.1);
        }
        
        tr:hover {
            background: rgba(0, 243, 255, 0.05);
        }
        
        /* Updates Feed */
        .updates-feed {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .update-item {
            padding: 15px;
            border-bottom: 1px solid rgba(0, 243, 255, 0.1);
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }
        
        .update-item:last-child {
            border-bottom: none;
        }
        
        .update-icon {
            color: var(--primary);
            font-size: 1.2rem;
            margin-top: 5px;
        }
        
        .update-content h4 {
            color: var(--light);
            margin-bottom: 5px;
        }
        
        .update-content p {
            color: #aaa;
            font-size: 0.95rem;
        }
        
        .update-time {
            font-size: 0.8rem;
            color: #666;
            margin-top: 5px;
        }
        
        /* Goals Calculator */
        .goals-calculator {
            background: linear-gradient(135deg, rgba(30, 30, 60, 0.9), rgba(15, 15, 35, 0.9));
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 243, 255, 0.2);
        }
        
        .calculator-row {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .calculator-input {
            flex: 1;
            min-width: 150px;
        }
        
        .calculator-input label {
            display: block;
            margin-bottom: 8px;
            color: var(--primary);
            font-weight: 600;
        }
        
        .calculator-input input {
            width: 100%;
            padding: 12px;
            background: rgba(10, 10, 20, 0.8);
            border: 1px solid rgba(0, 243, 255, 0.3);
            border-radius: 8px;
            color: var(--light);
            font-family: 'Rajdhani', sans-serif;
            font-size: 1.1rem;
            text-align: center;
        }
        
        .calculator-result {
            background: rgba(0, 243, 255, 0.1);
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            margin-top: 20px;
            border: 1px solid rgba(0, 243, 255, 0.2);
        }
        
        .result-value {
            font-size: 3rem;
            font-weight: 900;
            color: var(--primary);
            text-shadow: 0 0 20px rgba(0, 243, 255, 0.7);
            font-family: 'Orbitron', sans-serif;
            margin: 10px 0;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 20px;
                padding: 15px 0;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
            }
            
            .nav-links a {
                padding: 8px 12px;
                font-size: 1rem;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .auth-card {
                padding: 30px 20px;
                margin: 20px;
            }
            
            .role-selector {
                flex-direction: column;
            }
            
            .admin-control-grid,
            .coach-control-grid {
                grid-template-columns: 1fr;
            }
            
            .tournament-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Goals animation */
        @keyframes goalCelebration {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .goal-animation {
            animation: goalCelebration 0.5s ease 3;
        }
    </style>
</head>
<body>
    <!-- Authentication Pages (Initially Visible) -->
    <div id="authentication-page" class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <div class="auth-logo">
                    <div class="auth-logo-icon">
                        <i class="fas fa-futbol"></i>
                    </div>
                    <div class="auth-logo-text">EFOOTBALL SHOWDOWN</div>
                </div>
                <h1 class="auth-title">Welcome Back</h1>
                <p class="auth-subtitle">Sign in to access your tournament dashboard</p>
            </div>
            
            <div class="role-selector">
                <div class="role-option selected" data-role="player">
                    <div class="role-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="role-name">Player</div>
                </div>
                <div class="role-option" data-role="coach">
                    <div class="role-icon">
                        <i class="fas fa-whistle"></i>
                    </div>
                    <div class="role-name">Coach</div>
                </div>
                <div class="role-option" data-role="admin">
                    <div class="role-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="role-name">Admin</div>
                </div>
            </div>
            
            <form id="login-form" class="auth-form">
                <div class="form-group">
                    <label for="username">Username / Email</label>
                    <input type="text" id="username" placeholder="Enter your username or email" required>
                </div>
                
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>
                
                <div class="auth-options">
                    <div class="remember-me">
                        <input type="checkbox" id="remember-me">
                        <label for="remember-me" style="color: #aaa; font-weight: normal;">Remember me</label>
                    </div>
                    <a href="#" class="forgot-password">Forgot Password?</a>
                </div>
                
                <button type="submit" class="auth-btn btn-glow">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>
                
                <div class="auth-footer">
                    <p>Don't have an account? <a href="#" class="auth-switch" id="switch-to-register">Register as Player</a></p>
                </div>
            </form>
            
            <form id="register-form" class="auth-form" style="display: none;">
                <div class="form-group">
                    <label for="reg-username">Username</label>
                    <input type="text" id="reg-username" placeholder="Choose a username" required>
                </div>
                
                <div class="form-group">
                    <label for="reg-email">Email Address</label>
                    <input type="email" id="reg-email" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="reg-password">Password</label>
                    <input type="password" id="reg-password" placeholder="Create a password" required>
                </div>
                
                <div class="form-group">
                    <label for="reg-confirm-password">Confirm Password</label>
                    <input type="password" id="reg-confirm-password" placeholder="Confirm your password" required>
                </div>
                
                <div class="form-group">
                    <label for="reg-team">Preferred Team</label>
                    <select id="reg-team">
                        <option value="">Select a team</option>
                        <option value="Cyber Warriors">Cyber Warriors</option>
                        <option value="Neon Strikers">Neon Strikers</option>
                        <option value="Quantum FC">Quantum FC</option>
                        <option value="Vector United">Vector United</option>
                        <option value="Pixel Dynamo">Pixel Dynamo</option>
                    </select>
                </div>
                
                <button type="submit" class="auth-btn btn-glow">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
                
                <div class="auth-footer">
                    <p>Already have an account? <a href="#" class="auth-switch" id="switch-to-login">Sign In</a></p>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Main Application (Initially Hidden) -->
    <div id="application-container" style="display: none;">
        <!-- Header -->
        <header>
            <div class="container">
                <nav class="navbar">
                    <div class="logo">
                        <div class="logo-icon">
                            <i class="fas fa-futbol"></i>
                        </div>
                        <div class="logo-text">EFOOTBALL SHOWDOWN</div>
                    </div>
                    
                    <ul class="nav-links">
                        <li><a href="#" class="active" data-section="dashboard">Dashboard</a></li>
                        <li><a href="#" data-section="tournaments">Tournaments</a></li>
                        <li><a href="#" data-section="matches">Matches</a></li>
                        <li><a href="#" data-section="predictions">Predictions</a></li>
                        <li><a href="#" data-section="standings">Standings</a></li>
                        <li><a href="#" data-section="goals-calculator">Goals Calculator</a></li>
                        <li><a href="#" data-section="profile">Profile</a></li>
                        <!-- Coach-only link -->
                        <li><a href="#" data-section="coach-control" id="coach-control-link" style="display: none;">
                            Coach Panel <span class="coach-only">COACH</span>
                        </a></li>
                        <!-- Admin-only link -->
                        <li><a href="#" data-section="admin-control" id="admin-control-link" style="display: none;">
                            Admin Control <span class="admin-only">ADMIN</span>
                        </a></li>
                    </ul>
                    
                    <div class="user-info">
                        <div class="user-avatar" id="user-avatar">U</div>
                        <div>
                            <div class="user-name" id="user-name">Guest</div>
                            <div class="role-badge" id="role-badge">PLAYER</div>
                        </div>
                        <button id="logout-btn" class="btn btn-secondary btn-glow btn-glow-secondary" style="margin-left: 15px;">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                    </div>
                </nav>
            </div>
        </header>
        
        <!-- Main Content -->
        <main>
            <div class="container">
                <!-- Dashboard Section -->
                <section id="dashboard" class="dashboard-section active">
                    <div class="section-header">
                        <h2 class="section-title" id="dashboard-title">Player Dashboard</h2>
                        <div>
                            <span class="realtime-indicator">
                                <span class="realtime-dot"></span>
                                LIVE UPDATES
                            </span>
                        </div>
                    </div>
                    
                    <!-- Player Welcome Section -->
                    <div class="player-welcome" id="player-welcome">
                        <h3 style="color: var(--primary); margin-bottom: 10px;">Welcome back, <span id="welcome-name">Player</span>!</h3>
                        <p style="color: #aaa;">Your tournament dashboard is live and updated in real-time.</p>
                    </div>
                    
                    <!-- Player Stats Overview -->
                    <div class="player-stats-overview" id="player-stats-overview">
                        <!-- Stats will be populated by JavaScript -->
                    </div>
                    
                    <!-- Coach Control Panel (Only for Coach) -->
                    <div class="coach-control-panel" id="coach-control-panel" style="display: none;">
                        <h3 class="coach-control-title">
                            <i class="fas fa-whistle"></i> Coach Management Panel
                        </h3>
                        <p style="color: #aaa; margin-bottom: 20px;">Manage your team, sign players, and track team performance in real-time.</p>
                        
                        <div class="coach-control-grid">
                            <div class="coach-control-item">
                                <div class="coach-control-icon">
                                    <i class="fas fa-user-plus"></i>
                                </div>
                                <div class="admin-control-name">Sign New Players</div>
                                <div class="admin-control-desc">Add new talent to your team roster</div>
                                <button class="btn btn-coach btn-sm btn-glow btn-glow-coach" onclick="openPlayerSigning()">Sign Players</button>
                            </div>
                            
                            <div class="coach-control-item">
                                <div class="coach-control-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="admin-control-name">Team Roster</div>
                                <div class="admin-control-desc">View and manage your current players</div>
                                <button class="btn btn-coach btn-sm btn-glow btn-glow-coach" onclick="openTeamRoster()">View Roster</button>
                            </div>
                            
                            <div class="coach-control-item">
                                <div class="coach-control-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="admin-control-name">Team Performance</div>
                                <div class="admin-control-desc">Analyze team statistics and progress</div>
                                <button class="btn btn-coach btn-sm btn-glow btn-glow-coach" onclick="openTeamPerformance()">View Stats</button>
                            </div>
                            
                            <div class="coach-control-item">
                                <div class="coach-control-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div class="admin-control-name">Training Schedule</div>
                                <div class="admin-control-desc">Plan and manage training sessions</div>
                                <button class="btn btn-coach btn-sm btn-glow btn-glow-coach" onclick="openTrainingSchedule()">Schedule</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Admin Control Panel (Only for Admin) -->
                    <div class="admin-control-panel" id="admin-control-panel" style="display: none;">
                        <h3 class="admin-control-title">
                            <i class="fas fa-gamepad"></i> Game Control Panel
                        </h3>
                        <p style="color: #aaa; margin-bottom: 20px;">Manage tournaments, players, and game settings in real-time. Changes will instantly reflect on all player dashboards.</p>
                        
                        <div class="admin-control-grid">
                            <div class="admin-control-item">
                                <div class="admin-control-icon">
                                    <i class="fas fa-users-cog"></i>
                                </div>
                                <div class="admin-control-name">Player Management</div>
                                <div class="admin-control-desc">Add, remove, or edit player accounts and permissions</div>
                                <button class="btn btn-secondary btn-sm btn-glow btn-glow-secondary" onclick="openPlayerManagement()">Manage Players</button>
                            </div>
                            
                            <div class="admin-control-item">
                                <div class="admin-control-icon">
                                    <i class="fas fa-trophy"></i>
                                </div>
                                <div class="admin-control-name">Tournament Control</div>
                                <div class="admin-control-desc">Start, pause, or reset tournaments</div>
                                <button class="btn btn-secondary btn-sm btn-glow btn-glow-secondary" onclick="openTournamentControl()">Control Tournaments</button>
                            </div>
                            
                            <div class="admin-control-item">
                                <div class="admin-control-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="admin-control-name">Points System</div>
                                <div class="admin-control-desc">Set or reset player points and rankings</div>
                                <button class="btn btn-secondary btn-sm btn-glow btn-glow-secondary" onclick="openPointsSystem()">Manage Points</button>
                            </div>
                            
                            <div class="admin-control-item">
                                <div class="admin-control-icon">
                                    <i class="fas fa-cog"></i>
                                </div>
                                <div class="admin-control-name">Game Settings</div>
                                <div class="admin-control-desc">Configure game rules and parameters</div>
                                <button class="btn btn-secondary btn-sm btn-glow btn-glow-secondary" onclick="openGameSettings()">Settings</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Live Player Status (Admin Only) -->
                    <div class="player-status-panel" id="player-status-panel" style="display: none;">
                        <div class="player-status-header">
                            <div class="player-status-title">
                                <i class="fas fa-user-friends"></i> Live Player Status
                            </div>
                            <div class="realtime-indicator">
                                <span class="realtime-dot"></span>
                                LIVE
                            </div>
                        </div>
                        <div class="player-status-list" id="player-status-list">
                            <!-- Player status will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Active Tournaments -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Active Tournaments</h3>
                            <button class="btn btn-primary btn-sm btn-glow btn-glow-primary">View All</button>
                        </div>
                        
                        <div class="tournament-grid" id="tournament-grid">
                            <!-- Tournament cards will be generated here -->
                        </div>
                    </div>
                    
                    <!-- Live Updates Feed -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Live Updates Feed</h3>
                            <button class="btn btn-info btn-sm btn-glow" id="refresh-updates">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                        
                        <div class="updates-feed" id="updates-feed">
                            <!-- Updates will be loaded here -->
                        </div>
                    </div>
                </section>
                
                <!-- Tournaments Section -->
                <section id="tournaments" class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Tournaments</h2>
                        <button class="btn btn-primary btn-glow btn-glow-primary">Create Tournament</button>
                    </div>
                    
                    <div class="tournament-grid" id="all-tournaments-grid">
                        <!-- All tournaments will be loaded here -->
                    </div>
                </section>
                
                <!-- Matches Section -->
                <section id="matches" class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Matches</h2>
                        <span class="realtime-indicator">
                            <span class="realtime-dot"></span>
                            LIVE SCORES
                        </span>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Today's Matches</h3>
                            <button class="btn btn-primary btn-sm btn-glow btn-glow-primary">View Schedule</button>
                        </div>
                        
                        <div class="table-responsive">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Time</th>
                                        <th>Match</th>
                                        <th>Tournament</th>
                                        <th>Status</th>
                                        <th>Score</th>
                                    </tr>
                                </thead>
                                <tbody id="matches-table">
                                    <!-- Matches will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                
                <!-- Predictions Section -->
                <section id="predictions" class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Match Predictions</h2>
                        <button class="btn btn-accent btn-glow btn-glow-accent">Make Prediction</button>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Upcoming Predictions</h3>
                            <div class="realtime-indicator">
                                <span class="realtime-dot"></span>
                                LIVE ODDS
                            </div>
                        </div>
                        
                        <div id="predictions-container">
                            <!-- Predictions will be loaded here -->
                        </div>
                    </div>
                </section>
                
                <!-- Standings Section -->
                <section id="standings" class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Tournament Standings</h2>
                        <button class="btn btn-primary btn-sm btn-glow btn-glow-primary">Export Data</button>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Premier League Tournament 2024</h3>
                            <select style="background: rgba(10, 10, 20, 0.8); color: var(--light); padding: 8px 15px; border-radius: 8px; border: 1px solid rgba(0, 243, 255, 0.3);">
                                <option>Select Tournament</option>
                                <option>Premier League Tournament 2024</option>
                                <option>Champions League 2024</option>
                                <option>Weekend Cup</option>
                            </select>
                        </div>
                        
                        <div class="table-responsive">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Position</th>
                                        <th>Team</th>
                                        <th>Played</th>
                                        <th>Won</th>
                                        <th>Drawn</th>
                                        <th>Lost</th>
                                        <th>Goals</th>
                                        <th>Points</th>
                                    </tr>
                                </thead>
                                <tbody id="standings-table">
                                    <!-- Standings will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                
                <!-- Goals Calculator Section -->
                <section id="goals-calculator" class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Goals Calculator</h2>
                        <span class="realtime-indicator">
                            <span class="realtime-dot"></span>
                            LIVE CALCULATION
                        </span>
                    </div>
                    
                    <div class="goals-calculator">
                        <h3 style="color: var(--primary); margin-bottom: 20px;">Calculate Match Statistics</h3>
                        
                        <div class="calculator-row">
                            <div class="calculator-input">
                                <label for="team1-goals">Team 1 Goals</label>
                                <input type="number" id="team1-goals" min="0" value="2">
                            </div>
                            
                            <div class="calculator-input">
                                <label for="team2-goals">Team 2 Goals</label>
                                <input type="number" id="team2-goals" min="0" value="1">
                            </div>
                            
                            <div class="calculator-input">
                                <label for="match-minutes">Match Minutes</label>
                                <input type="number" id="match-minutes" min="0" max="120" value="90">
                            </div>
                        </div>
                        
                        <div class="calculator-row">
                            <div class="calculator-input">
                                <label for="team1-shots">Team 1 Shots</label>
                                <input type="number" id="team1-shots" min="0" value="15">
                            </div>
                            
                            <div class="calculator-input">
                                <label for="team2-shots">Team 2 Shots</label>
                                <input type="number" id="team2-shots" min="0" value="12">
                            </div>
                            
                            <div class="calculator-input">
                                <label for="team1-possession">Team 1 Possession (%)</label>
                                <input type="number" id="team1-possession" min="0" max="100" value="55">
                            </div>
                        </div>
                        
                        <button id="calculate-goals" class="btn btn-success btn-glow btn-glow-success" style="width: 100%; padding: 15px; margin-top: 10px;">
                            <i class="fas fa-calculator"></i> Calculate Match Statistics
                        </button>
                        
                        <div class="calculator-result">
                            <h4 style="color: var(--primary); margin-bottom: 15px;">Match Analysis Results</h4>
                            <div class="result-value" id="total-goals">3</div>
                            <p style="color: #aaa;">Total Goals in Match</p>
                            
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 25px;">
                                <div>
                                    <div style="font-size: 1.8rem; color: var(--success); font-weight: 700;" id="goals-per-minute">0.033</div>
                                    <div style="color: #aaa; font-size: 0.9rem;">Goals per minute</div>
                                </div>
                                <div>
                                    <div style="font-size: 1.8rem; color: var(--accent); font-weight: 700;" id="shot-efficiency-team1">13.3%</div>
                                    <div style="color: #aaa; font-size: 0.9rem;">Team 1 Shot Efficiency</div>
                                </div>
                                <div>
                                    <div style="font-size: 1.8rem; color: var(--warning); font-weight: 700;" id="shot-efficiency-team2">8.3%</div>
                                    <div style="color: #aaa; font-size: 0.9rem;">Team 2 Shot Efficiency</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 30px;">
                        <div class="card-header">
                            <h3 class="card-title">Goal Calculation History</h3>
                            <button class="btn btn-secondary btn-sm btn-glow btn-glow-secondary" onclick="clearHistory()">Clear History</button>
                        </div>
                        
                        <div class="table-responsive">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Team 1</th>
                                        <th>Team 2</th>
                                        <th>Total Goals</th>
                                        <th>Efficiency</th>
                                    </tr>
                                </thead>
                                <tbody id="calculation-history">
                                    <!-- Calculation history will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                
                <!-- Profile Section -->
                <section id="profile" class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title" id="profile-user-name">Player Profile</h2>
                        <button class="btn btn-primary btn-glow btn-glow-primary">Edit Profile</button>
                    </div>
                    
                    <div class="card">
                        <div style="display: flex; gap: 30px; align-items: center; margin-bottom: 30px;">
                            <div class="user-avatar" style="width: 80px; height: 80px; font-size: 2rem;" id="profile-avatar">U</div>
                            <div>
                                <h3 style="color: var(--primary); font-size: 1.8rem;" id="profile-name">Player Name</h3>
                                <div class="role-badge" style="display: inline-block; margin-top: 5px;" id="profile-role">PLAYER</div>
                            </div>
                        </div>
                        
                        <div class="player-stats-overview">
                            <div class="player-stat-card">
                                <div class="player-stat-value" id="profile-points">0</div>
                                <div class="player-stat-label">Total Points</div>
                            </div>
                            <div class="player-stat-card">
                                <div class="player-stat-value" id="profile-team">Team</div>
                                <div class="player-stat-label">Current Team</div>
                            </div>
                            <div class="player-stat-card">
                                <div class="player-stat-value" id="profile-matches">0</div>
                                <div class="player-stat-label">Matches Played</div>
                            </div>
                            <div class="player-stat-card">
                                <div class="player-stat-value" id="profile-rating">0</div>
                                <div class="player-stat-label">Player Rating</div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Coach Control Section -->
                <section id="coach-control" class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Coach Control Center</h2>
                        <span class="coach-only">COACH</span>
                    </div>
                    
                    <div class="sign-player-form">
                        <h3 class="coach-control-title">
                            <i class="fas fa-user-plus"></i> Sign New Players
                        </h3>
                        <p style="color: #aaa; margin-bottom: 20px;">Add new players to your team by entering their details below.</p>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="new-player-name">Player Name</label>
                                <input type="text" id="new-player-name" placeholder="Enter player full name">
                            </div>
                            <div class="form-group">
                                <label for="new-player-position">Position</label>
                                <select id="new-player-position">
                                    <option value="">Select Position</option>
                                    <option value="Goalkeeper">Goalkeeper</option>
                                    <option value="Defender">Defender</option>
                                    <option value="Midfielder">Midfielder</option>
                                    <option value="Forward">Forward</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="new-player-skill">Skill Level (1-10)</label>
                                <input type="number" id="new-player-skill" min="1" max="10" value="5">
                            </div>
                        </div>
                        
                        <button class="btn btn-coach btn-glow btn-glow-coach" id="sign-player-btn" style="width: 100%;">
                            <i class="fas fa-signature"></i> Sign Player to Team
                        </button>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Team Roster</h3>
                            <button class="btn btn-coach btn-sm btn-glow btn-glow-coach" onclick="refreshRoster()">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                        
                        <div class="player-signing-list" id="team-roster">
                            <!-- Team roster will be loaded here -->
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 30px;">
                        <div class="card-header">
                            <h3 class="card-title">Team Performance Statistics</h3>
                            <button class="btn btn-primary btn-sm btn-glow btn-glow-primary">Generate Report</button>
                        </div>
                        
                        <div class="player-stats-overview">
                            <div class="player-stat-card">
                                <div class="player-stat-value" id="team-total-players">0</div>
                                <div class="player-stat-label">Total Players</div>
                            </div>
                            <div class="player-stat-card">
                                <div class="player-stat-value" id="team-average-skill">0</div>
                                <div class="player-stat-label">Average Skill</div>
                            </div>
                            <div class="player-stat-card">
                                <div class="player-stat-value" id="team-goals-scored">0</div>
                                <div class="player-stat-label">Goals Scored</div>
                            </div>
                            <div class="player-stat-card">
                                <div class="player-stat-value" id="team-win-rate">0%</div>
                                <div class="player-stat-label">Win Rate</div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Admin Control Section -->
                <section id="admin-control" class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Admin Control Center</h2>
                        <span class="admin-only">ADMINISTRATOR</span>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">System Administration</h3>
                            <button class="btn btn-primary btn-glow btn-glow-primary" onclick="refreshAdminData()">
                                <i class="fas fa-sync-alt"></i> Refresh All Data
                            </button>
                        </div>
                        
                        <div class="admin-control-grid" style="grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));">
                            <div class="admin-control-item">
                                <div class="admin-control-icon">
                                    <i class="fas fa-database"></i>
                                </div>
                                <div class="admin-control-name">Database Management</div>
                                <div class="admin-control-desc">Backup, restore, or reset the tournament database</div>
                                <button class="btn btn-secondary btn-sm btn-glow btn-glow-secondary" onclick="openDatabaseManagement()">Manage Database</button>
                            </div>
                            
                            <div class="admin-control-item">
                                <div class="admin-control-icon">
                                    <i class="fas fa-broadcast-tower"></i>
                                </div>
                                <div class="admin-control-name">Real-time Updates</div>
                                <div class="admin-control-desc">Control live data streaming to all players</div>
                                <button class="btn btn-secondary btn-sm btn-glow btn-glow-secondary" onclick="openRealtimeControl()">Control Updates</button>
                            </div>
                            
                            <div class="admin-control-item">
                                <div class="admin-control-icon">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <div class="admin-control-name">Security Settings</div>
                                <div class="admin-control-desc">Configure authentication and access controls</div>
                                <button class="btn btn-secondary btn-sm btn-glow btn-glow-secondary" onclick="openSecuritySettings()">Security</button>
                            </div>
                            
                            <div class="admin-control-item">
                                <div class="admin-control-icon">
                                    <i class="fas fa-user-lock"></i>
                                </div>
                                <div class="admin-control-name">Role Management</div>
                                <div class="admin-control-desc">Assign and manage user roles and permissions</div>
                                <button class="btn btn-secondary btn-sm btn-glow btn-glow-secondary" onclick="openRoleManagement()">Manage Roles</button>
                            </div>
                        </div>
                        
                        <div style="margin-top: 40px;">
                            <h3 style="color: var(--primary); margin-bottom: 20px;">System Activity Log</h3>
                            <div class="table-responsive">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Time</th>
                                            <th>Action</th>
                                            <th>User</th>
                                            <th>Details</th>
                                            <th>IP Address</th>
                                        </tr>
                                    </thead>
                                    <tbody id="system-activity-log">
                                        <!-- System activity will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>
    
    <!-- Real-time Notification -->
    <div class="realtime-notification" id="realtime-notification">
        <div class="realtime-notification-title">
            <i class="fas fa-sync-alt"></i>
            <span id="realtime-notification-title">Live Update</span>
        </div>
        <div id="realtime-notification-message">Data updated in real-time</div>
    </div>

    <script>
        // Complete EFOOTBALL SHOWDOWN System
        // ===================================
        
        // Application State with Authentication
        const appState = {
            // Authentication state
            currentUser: null,
            isAuthenticated: false,
            authToken: null,
            userRole: null,
            
            // Real-time listeners
            realtimeListeners: [],
            websocket: null,
            
            // User data with admin password: Perez@254
            users: [
                {
                    id: 1,
                    username: "admin",
                    email: "admin@efootball.com",
                    password: "Perez@254",
                    role: "admin",
                    name: "Tournament Admin",
                    team: "System",
                    points: 0,
                    status: "online",
                    lastLogin: new Date().toISOString()
                },
                {
                    id: 2,
                    username: "coach_mike",
                    email: "coach@efootball.com",
                    password: "coach123",
                    role: "coach",
                    name: "Coach Mike",
                    team: "Cyber Warriors",
                    points: 0,
                    status: "online",
                    lastLogin: new Date().toISOString(),
                    signedPlayers: []
                },
                {
                    id: 3,
                    username: "player1",
                    email: "player1@example.com",
                    password: "player123",
                    role: "player",
                    name: "Alex Striker",
                    team: "Cyber Warriors",
                    points: 1250,
                    status: "online",
                    lastLogin: new Date().toISOString(),
                    matchesPlayed: 12,
                    winRate: 85,
                    rating: 87
                },
                {
                    id: 4,
                    username: "player2",
                    email: "player2@example.com",
                    password: "player123",
                    role: "player",
                    name: "Sarah Defender",
                    team: "Neon Strikers",
                    points: 980,
                    status: "online",
                    lastLogin: new Date().toISOString(),
                    matchesPlayed: 10,
                    winRate: 70,
                    rating: 79
                }
            ],
            
            // Tournament data
            tournaments: [
                {
                    id: 1,
                    name: "Premier League Tournament 2024",
                    type: "league",
                    teams: 20,
                    status: "active",
                    startDate: "2024-03-01",
                    endDate: "2024-12-31"
                },
                {
                    id: 2,
                    name: "Champions League 2024",
                    type: "champions",
                    teams: 32,
                    status: "upcoming",
                    startDate: "2024-09-01",
                    endDate: "2024-11-30"
                },
                {
                    id: 3,
                    name: "Weekend Cup",
                    type: "cup",
                    teams: 8,
                    status: "active",
                    startDate: "2024-04-15",
                    endDate: "2024-04-20"
                },
                {
                    id: 4,
                    name: "World Cup Showdown",
                    type: "worldcup",
                    teams: 16,
                    status: "completed",
                    startDate: "2024-01-01",
                    endDate: "2024-01-15"
                }
            ],
            
            // Matches data
            matches: [
                {
                    id: 1,
                    team1: "Cyber Warriors",
                    team2: "Neon Strikers",
                    score1: 3,
                    score2: 1,
                    tournament: "Premier League Tournament 2024",
                    time: "15:00",
                    status: "completed",
                    date: new Date().toISOString().split('T')[0]
                },
                {
                    id: 2,
                    team1: "Quantum FC",
                    team2: "Vector United",
                    score1: 2,
                    score2: 2,
                    tournament: "Weekend Cup",
                    time: "17:30",
                    status: "live",
                    date: new Date().toISOString().split('T')[0]
                },
                {
                    id: 3,
                    team1: "Pixel Dynamo",
                    team2: "Cyber Warriors",
                    score1: 0,
                    score2: 0,
                    tournament: "Premier League Tournament 2024",
                    time: "20:00",
                    status: "upcoming",
                    date: new Date().toISOString().split('T')[0]
                }
            ],
            
            // Standings data
            standings: [
                { position: 1, team: "Cyber Warriors", played: 12, won: 9, drawn: 2, lost: 1, goals: "28-10", points: 29 },
                { position: 2, team: "Quantum FC", played: 12, won: 8, drawn: 3, lost: 1, goals: "25-12", points: 27 },
                { position: 3, team: "Neon Strikers", played: 12, won: 7, drawn: 3, lost: 2, goals: "22-15", points: 24 },
                { position: 4, team: "Pixel Dynamo", played: 12, won: 6, drawn: 4, lost: 2, goals: "20-14", points: 22 },
                { position: 5, team: "Vector United", played: 12, won: 5, drawn: 3, lost: 4, goals: "18-16", points: 18 }
            ],
            
            // Goals calculation history
            goalsHistory: [],
            
            // System activity log
            systemActivity: []
        };

        // Initialize Application
        // ======================

        document.addEventListener('DOMContentLoaded', function() {
            initializeAuthentication();
            setupEventListeners();
            initializeSampleData();
            
            console.log('EFOOTBALL SHOWDOWN Complete System Initialized');
        });

        // Authentication Functions
        // ========================

        function initializeAuthentication() {
            const savedToken = localStorage.getItem('efootball_auth_token');
            const savedUser = localStorage.getItem('efootball_user');
            
            if (savedToken && savedUser) {
                try {
                    appState.currentUser = JSON.parse(savedUser);
                    appState.authToken = savedToken;
                    appState.isAuthenticated = true;
                    appState.userRole = appState.currentUser.role;
                    
                    showApplication();
                    return;
                } catch (e) {
                    localStorage.removeItem('efootball_auth_token');
                    localStorage.removeItem('efootball_user');
                }
            }
            
            showAuthentication();
        }

        function showAuthentication() {
            document.getElementById('authentication-page').style.display = 'flex';
            document.getElementById('application-container').style.display = 'none';
            
            document.getElementById('login-form').reset();
            document.getElementById('register-form').reset();
            
            document.querySelectorAll('.role-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelector('[data-role="player"]').classList.add('selected');
        }

        function showApplication() {
            document.getElementById('authentication-page').style.display = 'none';
            document.getElementById('application-container').style.display = 'block';
            
            updateUIForUserRole();
            initializeRealtimeUpdates();
            loadUserDashboard();
            loadGoalsHistory();
        }

        function handleLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const selectedRole = document.querySelector('.role-option.selected').dataset.role;
            
            // Find user (admin password: Perez@254)
            const user = appState.users.find(u => 
                (u.username === username || u.email === username) && 
                u.password === password && 
                u.role === selectedRole
            );
            
            if (user) {
                const authToken = generateAuthToken();
                
                user.status = "online";
                user.lastLogin = new Date().toISOString();
                
                appState.currentUser = { ...user };
                delete appState.currentUser.password;
                appState.authToken = authToken;
                appState.isAuthenticated = true;
                appState.userRole = user.role;
                
                localStorage.setItem('efootball_auth_token', authToken);
                localStorage.setItem('efootball_user', JSON.stringify(appState.currentUser));
                
                showRealtimeNotification('Login Successful', `Welcome back, ${user.name}!`);
                showApplication();
                
                // Log activity
                logSystemActivity('User logged in', user.name, `Role: ${user.role}`);
            } else {
                showRealtimeNotification('Login Failed', 'Invalid credentials or role selection');
                document.getElementById('password').value = '';
            }
        }

        function handleRegister(event) {
            event.preventDefault();
            
            const username = document.getElementById('reg-username').value;
            const email = document.getElementById('reg-email').value;
            const password = document.getElementById('reg-password').value;
            const confirmPassword = document.getElementById('reg-confirm-password').value;
            const team = document.getElementById('reg-team').value;
            
            if (password !== confirmPassword) {
                showRealtimeNotification('Registration Failed', 'Passwords do not match');
                return;
            }
            
            if (appState.users.some(u => u.username === username || u.email === email)) {
                showRealtimeNotification('Registration Failed', 'Username or email already exists');
                return;
            }
            
            const newPlayer = {
                id: appState.users.length + 1,
                username: username,
                email: email,
                password: password,
                role: "player",
                name: username.charAt(0).toUpperCase() + username.slice(1),
                team: team || "Unassigned",
                points: 0,
                status: "online",
                lastLogin: new Date().toISOString(),
                joinDate: new Date().toISOString().split('T')[0],
                matchesPlayed: 0,
                winRate: 0,
                rating: 50
            };
            
            appState.users.push(newPlayer);
            
            const authToken = generateAuthToken();
            appState.currentUser = { ...newPlayer };
            delete appState.currentUser.password;
            appState.authToken = authToken;
            appState.isAuthenticated = true;
            appState.userRole = "player";
            
            localStorage.setItem('efootball_auth_token', authToken);
            localStorage.setItem('efootball_user', JSON.stringify(appState.currentUser));
            
            showRealtimeNotification('Registration Successful', `Welcome to EFOOTBALL SHOWDOWN, ${username}!`);
            showApplication();
            
            // Log activity
            logSystemActivity('New player registered', newPlayer.name, `Team: ${newPlayer.team}`);
        }

        function handleLogout() {
            if (appState.currentUser) {
                const user = appState.users.find(u => u.id === appState.currentUser.id);
                if (user) {
                    user.status = "offline";
                }
                
                logSystemActivity('User logged out', appState.currentUser.name);
            }
            
            appState.currentUser = null;
            appState.authToken = null;
            appState.isAuthenticated = false;
            appState.userRole = null;
            
            localStorage.removeItem('efootball_auth_token');
            localStorage.removeItem('efootball_user');
            
            if (appState.websocket) {
                appState.websocket.close();
                appState.websocket = null;
            }
            
            showAuthentication();
            showRealtimeNotification('Logged Out', 'You have been successfully logged out');
        }

        function generateAuthToken() {
            return 'token_' + Math.random().toString(36).substring(2) + '_' + Date.now().toString(36);
        }

        // Role-Based UI Updates
        // =====================

        function updateUIForUserRole() {
            const user = appState.currentUser;
            if (!user) return;
            
            document.getElementById('user-avatar').textContent = user.name.charAt(0).toUpperCase();
            document.getElementById('user-name').textContent = user.name;
            document.getElementById('role-badge').textContent = user.role.toUpperCase();
            document.getElementById('profile-user-name').textContent = `${user.name} Profile`;
            document.getElementById('welcome-name').textContent = user.name;
            
            // Update profile section
            document.getElementById('profile-avatar').textContent = user.name.charAt(0).toUpperCase();
            document.getElementById('profile-name').textContent = user.name;
            document.getElementById('profile-role').textContent = user.role.toUpperCase();
            document.getElementById('profile-points').textContent = user.points || 0;
            document.getElementById('profile-team').textContent = user.team || 'No Team';
            document.getElementById('profile-matches').textContent = user.matchesPlayed || 0;
            document.getElementById('profile-rating').textContent = user.rating || 0;
            
            // Show/hide based on role
            const isAdmin = user.role === 'admin';
            const isCoach = user.role === 'coach';
            
            document.getElementById('admin-control-link').style.display = isAdmin ? 'block' : 'none';
            document.getElementById('admin-control-panel').style.display = isAdmin ? 'block' : 'none';
            document.getElementById('player-status-panel').style.display = isAdmin ? 'block' : 'none';
            
            document.getElementById('coach-control-link').style.display = isCoach ? 'block' : 'none';
            document.getElementById('coach-control-panel').style.display = isCoach ? 'block' : 'none';
            
            document.getElementById('dashboard-title').textContent = 
                isAdmin ? 'Admin Dashboard' : (isCoach ? 'Coach Dashboard' : 'Player Dashboard');
            
            // Load appropriate data
            if (isAdmin) {
                loadAdminDashboard();
                loadPlayerStatus();
            } else if (isCoach) {
                loadCoachDashboard();
            } else {
                loadPlayerDashboard();
            }
        }

        function loadPlayerDashboard() {
            const user = appState.currentUser;
            if (!user) return;
            
            const statsOverview = document.getElementById('player-stats-overview');
            statsOverview.innerHTML = `
                <div class="player-stat-card">
                    <div class="player-stat-value">${user.points || 0}</div>
                    <div class="player-stat-label">Total Points</div>
                </div>
                <div class="player-stat-card">
                    <div class="player-stat-value">${user.team || 'No Team'}</div>
                    <div class="player-stat-label">Team</div>
                </div>
                <div class="player-stat-card">
                    <div class="player-stat-value">${user.matchesPlayed || 0}</div>
                    <div class="player-stat-label">Matches Played</div>
                </div>
                <div class="player-stat-card">
                    <div class="player-stat-value">${user.winRate || 0}%</div>
                    <div class="player-stat-label">Win Rate</div>
                </div>
            `;
            
            loadTournaments();
            loadUpdatesFeed();
        }

        function loadAdminDashboard() {
            loadPlayerStatus();
            loadSystemActivity();
            loadAllTournaments();
            loadUpdatesFeed();
        }

        function loadCoachDashboard() {
            loadTeamRoster();
            loadTeamStats();
            loadTournaments();
            loadUpdatesFeed();
        }

        // Coach Functions
        // ===============

        function loadTeamRoster() {
            const coach = appState.currentUser;
            if (!coach || coach.role !== 'coach') return;
            
            const teamRoster = document.getElementById('team-roster');
            if (!teamRoster) return;
            
            // Get players on this coach's team
            const teamPlayers = appState.users.filter(u => 
                u.role === 'player' && u.team === coach.team
            );
            
            // Get signed players by this coach
            const signedPlayers = coach.signedPlayers || [];
            
            const allPlayers = [...teamPlayers];
            
            teamRoster.innerHTML = allPlayers.map(player => `
                <div class="player-signing-card">
                    <div class="player-signing-name">${player.name}</div>
                    <div style="color: #aaa; font-size: 0.9rem; margin-bottom: 10px;">${player.team}</div>
                    <div class="player-signing-details">
                        <div>
                            <div style="color: var(--primary); font-weight: 600;">${player.points || 0}</div>
                            <div style="font-size: 0.8rem;">Points</div>
                        </div>
                        <div>
                            <div style="color: var(--success); font-weight: 600;">${player.winRate || 0}%</div>
                            <div style="font-size: 0.8rem;">Win Rate</div>
                        </div>
                        <div>
                            <div style="color: var(--accent); font-weight: 600;">${player.rating || 50}</div>
                            <div style="font-size: 0.8rem;">Rating</div>
                        </div>
                    </div>
                </div>
            `).join('');
            
            // Update team stats
            document.getElementById('team-total-players').textContent = allPlayers.length;
            document.getElementById('team-average-skill').textContent = allPlayers.length > 0 ? 
                Math.round(allPlayers.reduce((sum, p) => sum + (p.rating || 50), 0) / allPlayers.length) : 0;
            document.getElementById('team-goals-scored').textContent = allPlayers.reduce((sum, p) => sum + Math.floor((p.points || 0) / 10), 0);
            document.getElementById('team-win-rate').textContent = allPlayers.length > 0 ? 
                Math.round(allPlayers.reduce((sum, p) => sum + (p.winRate || 0), 0) / allPlayers.length) + '%' : '0%';
        }

        function loadTeamStats() {
            // This would load detailed team statistics
        }

        function signPlayer() {
            const coach = appState.currentUser;
            if (!coach || coach.role !== 'coach') return;
            
            const playerName = document.getElementById('new-player-name').value;
            const position = document.getElementById('new-player-position').value;
            const skill = parseInt(document.getElementById('new-player-skill').value);
            
            if (!playerName || !position) {
                showRealtimeNotification('Signing Failed', 'Please fill in all required fields');
                return;
            }
            
            // Create new player entry
            const newPlayer = {
                id: Date.now(),
                name: playerName,
                position: position,
                skill: skill,
                team: coach.team,
                signedDate: new Date().toISOString().split('T')[0],
                status: 'active'
            };
            
            // Add to coach's signed players
            if (!coach.signedPlayers) coach.signedPlayers = [];
            coach.signedPlayers.push(newPlayer);
            
            // Also add to users if not already there (simulating registration)
            const existingUser = appState.users.find(u => u.name === playerName);
            if (!existingUser) {
                appState.users.push({
                    id: appState.users.length + 1,
                    username: playerName.toLowerCase().replace(/\s+/g, '_'),
                    email: `${playerName.toLowerCase().replace(/\s+/g, '.')}@${coach.team.toLowerCase().replace(/\s+/g, '')}.com`,
                    password: 'temp123',
                    role: "player",
                    name: playerName,
                    team: coach.team,
                    points: skill * 10,
                    status: "online",
                    lastLogin: new Date().toISOString(),
                    matchesPlayed: 0,
                    winRate: 0,
                    rating: skill * 10
                });
            }
            
            // Clear form
            document.getElementById('new-player-name').value = '';
            document.getElementById('new-player-position').value = '';
            document.getElementById('new-player-skill').value = 5;
            
            // Update UI
            loadTeamRoster();
            
            showRealtimeNotification('Player Signed', `${playerName} has been added to ${coach.team}`);
            logSystemActivity('Player signed by coach', coach.name, `Player: ${playerName}, Position: ${position}`);
        }

        // Goals Calculator Functions
        // ==========================

        function calculateGoals() {
            const team1Goals = parseInt(document.getElementById('team1-goals').value) || 0;
            const team2Goals = parseInt(document.getElementById('team2-goals').value) || 0;
            const matchMinutes = parseInt(document.getElementById('match-minutes').value) || 90;
            const team1Shots = parseInt(document.getElementById('team1-shots').value) || 0;
            const team2Shots = parseInt(document.getElementById('team2-shots').value) || 0;
            const team1Possession = parseInt(document.getElementById('team1-possession').value) || 50;
            
            const totalGoals = team1Goals + team2Goals;
            const goalsPerMinute = matchMinutes > 0 ? (totalGoals / matchMinutes).toFixed(3) : 0;
            const team1Efficiency = team1Shots > 0 ? ((team1Goals / team1Shots) * 100).toFixed(1) + '%' : '0%';
            const team2Efficiency = team2Shots > 0 ? ((team2Goals / team2Shots) * 100).toFixed(1) + '%' : '0%';
            
            // Update results
            const totalGoalsElement = document.getElementById('total-goals');
            totalGoalsElement.textContent = totalGoals;
            totalGoalsElement.classList.add('goal-animation');
            setTimeout(() => totalGoalsElement.classList.remove('goal-animation'), 1500);
            
            document.getElementById('goals-per-minute').textContent = goalsPerMinute;
            document.getElementById('shot-efficiency-team1').textContent = team1Efficiency;
            document.getElementById('shot-efficiency-team2').textContent = team2Efficiency;
            
            // Add to history
            const historyEntry = {
                date: new Date().toLocaleDateString(),
                time: new Date().toLocaleTimeString(),
                team1Goals: team1Goals,
                team2Goals: team2Goals,
                totalGoals: totalGoals,
                team1Efficiency: team1Efficiency,
                team2Efficiency: team2Efficiency
            };
            
            appState.goalsHistory.unshift(historyEntry);
            updateGoalsHistory();
            
            showRealtimeNotification('Calculation Complete', `Total goals: ${totalGoals}`);
        }

        function updateGoalsHistory() {
            const historyTable = document.getElementById('calculation-history');
            if (!historyTable) return;
            
            historyTable.innerHTML = appState.goalsHistory.slice(0, 10).map(entry => `
                <tr>
                    <td>${entry.date} ${entry.time}</td>
                    <td>${entry.team1Goals}</td>
                    <td>${entry.team2Goals}</td>
                    <td><strong>${entry.totalGoals}</strong></td>
                    <td>${entry.team1Efficiency} / ${entry.team2Efficiency}</td>
                </tr>
            `).join('');
        }

        function loadGoalsHistory() {
            // Load from localStorage if available
            const savedHistory = localStorage.getItem('efootball_goals_history');
            if (savedHistory) {
                appState.goalsHistory = JSON.parse(savedHistory);
                updateGoalsHistory();
            }
        }

        function clearHistory() {
            appState.goalsHistory = [];
            updateGoalsHistory();
            localStorage.removeItem('efootball_goals_history');
            showRealtimeNotification('History Cleared', 'Goal calculation history has been cleared');
        }

        // Tournament Functions
        // ===================

        function loadTournaments() {
            const tournamentGrid = document.getElementById('tournament-grid');
            if (!tournamentGrid) return;
            
            const user = appState.currentUser;
            const isAdmin = user && user.role === 'admin';
            
            const tournamentsToShow = isAdmin ? appState.tournaments : 
                appState.tournaments.filter(t => t.status !== 'completed' || Math.random() > 0.5);
            
            tournamentGrid.innerHTML = tournamentsToShow.map(tournament => `
                <div class="tournament-card">
                    <div class="tournament-type type-${tournament.type}">${tournament.type.toUpperCase()}</div>
                    <h3 style="font-size: 1.4rem; margin-bottom: 10px; color: var(--primary);">${tournament.name}</h3>
                    <p style="color: #aaa; margin-bottom: 15px;">${tournament.startDate} to ${tournament.endDate}</p>
                    <div style="display: flex; justify-content: space-between; margin-top: 20px;">
                        <div>
                            <div style="font-size: 0.9rem; color: #aaa;">Teams</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--light);">${tournament.teams}</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9rem; color: #aaa;">Status</div>
                            <div class="tournament-status status-${tournament.status}">${tournament.status.toUpperCase()}</div>
                        </div>
                    </div>
                    ${isAdmin ? `
                    <div style="margin-top: 15px;">
                        <button class="btn btn-secondary btn-sm btn-glow btn-glow-secondary" style="width: 100%;" onclick="manageTournament('${tournament.name}')">
                            <i class="fas fa-cog"></i> Manage Tournament
                        </button>
                    </div>
                    ` : ''}
                </div>
            `).join('');
        }

        function loadAllTournaments() {
            const allTournamentsGrid = document.getElementById('all-tournaments-grid');
            if (!allTournamentsGrid) return;
            
            allTournamentsGrid.innerHTML = appState.tournaments.map(tournament => `
                <div class="tournament-card">
                    <div class="tournament-type type-${tournament.type}">${tournament.type.toUpperCase()}</div>
                    <h3 style="font-size: 1.4rem; margin-bottom: 10px; color: var(--primary);">${tournament.name}</h3>
                    <p style="color: #aaa; margin-bottom: 15px;">${tournament.startDate} to ${tournament.endDate}</p>
                    <div style="display: flex; justify-content: space-between; margin-top: 20px;">
                        <div>
                            <div style="font-size: 0.9rem; color: #aaa;">Teams</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--light);">${tournament.teams}</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9rem; color: #aaa;">Status</div>
                            <div class="tournament-status status-${tournament.status}">${tournament.status.toUpperCase()}</div>
                        </div>
                    </div>
                    <div style="margin-top: 15px;">
                        <button class="btn btn-primary btn-sm btn-glow btn-glow-primary" style="width: 100%;">
                            <i class="fas fa-eye"></i> View Details
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Matches Functions
        // =================

        function loadMatches() {
            const matchesTable = document.getElementById('matches-table');
            if (!matchesTable) return;
            
            matchesTable.innerHTML = appState.matches.map(match => `
                <tr>
                    <td>${match.time}</td>
                    <td><strong>${match.team1}</strong> vs <strong>${match.team2}</strong></td>
                    <td>${match.tournament}</td>
                    <td>
                        <span class="tournament-status status-${match.status}">
                            ${match.status.toUpperCase()}
                        </span>
                    </td>
                    <td>
                        <strong style="color: var(--primary); font-size: 1.2rem;">
                            ${match.score1} - ${match.score2}
                        </strong>
                    </td>
                </tr>
            `).join('');
        }

        // Standings Functions
        // ===================

        function loadStandings() {
            const standingsTable = document.getElementById('standings-table');
            if (!standingsTable) return;
            
            standingsTable.innerHTML = appState.standings.map(standing => `
                <tr>
                    <td><strong style="color: var(--primary);">${standing.position}</strong></td>
                    <td><strong>${standing.team}</strong></td>
                    <td>${standing.played}</td>
                    <td>${standing.won}</td>
                    <td>${standing.drawn}</td>
                    <td>${standing.lost}</td>
                    <td>${standing.goals}</td>
                    <td><strong style="color: var(--success);">${standing.points}</strong></td>
                </tr>
            `).join('');
        }

        // Updates Feed Functions
        // ======================

        function loadUpdatesFeed() {
            const updatesFeed = document.getElementById('updates-feed');
            if (!updatesFeed) return;
            
            const updates = [
                { icon: 'fa-trophy', title: 'Tournament Update', content: 'Premier League Tournament enters Week 15', time: '10 minutes ago' },
                { icon: 'fa-user-plus', title: 'New Player', content: 'John Striker has joined Cyber Warriors', time: '1 hour ago' },
                { icon: 'fa-chart-line', title: 'Ranking Update', content: 'Player rankings have been updated for this week', time: '2 hours ago' },
                { icon: 'fa-calendar', title: 'Schedule Announcement', content: 'Weekend Cup matches scheduled for Saturday', time: '1 day ago' },
                { icon: 'fa-award', title: 'Player of the Week', content: 'Alex Striker wins Player of the Week award', time: '2 days ago' }
            ];
            
            updatesFeed.innerHTML = updates.map(update => `
                <div class="update-item">
                    <div class="update-icon">
                        <i class="fas ${update.icon}"></i>
                    </div>
                    <div class="update-content">
                        <h4>${update.title}</h4>
                        <p>${update.content}</p>
                        <div class="update-time">${update.time}</div>
                    </div>
                </div>
            `).join('');
        }

        // Admin Functions
        // ===============

        function loadPlayerStatus() {
            const playerStatusList = document.getElementById('player-status-list');
            if (!playerStatusList) return;
            
            const players = appState.users.filter(u => u.role === 'player');
            
            playerStatusList.innerHTML = players.map(player => `
                <div class="player-status-item">
                    <div class="player-status-avatar">${player.name.charAt(0).toUpperCase()}</div>
                    <div class="player-status-info">
                        <div class="player-status-name">${player.name}</div>
                        <div class="player-status-role">${player.team}  ${player.points} points</div>
                    </div>
                    <div class="player-status-indicator status-${player.status}"></div>
                </div>
            `).join('');
        }

        function loadSystemActivity() {
            const activityLog = document.getElementById('system-activity-log');
            if (!activityLog) return;
            
            const activities = [
                { time: '10:30 AM', action: 'Player logged in', user: 'Alex Striker', details: 'From IP: 192.168.1.100', ip: '192.168.1.100' },
                { time: '10:25 AM', action: 'Match result updated', user: 'Tournament Admin', details: 'Cyber Warriors 3-1 Neon Strikers', ip: '192.168.1.1' },
                { time: '10:15 AM', action: 'Points recalculated', user: 'System', details: 'Automatic points update', ip: 'System' },
                { time: '10:00 AM', action: 'New player registered', user: 'System', details: 'Mike Wilson joined Quantum FC', ip: '192.168.1.150' },
                { time: '09:45 AM', action: 'Tournament started', user: 'Tournament Admin', details: 'Premier League Tournament 2024', ip: '192.168.1.1' }
            ];
            
            activityLog.innerHTML = activities.map(activity => `
                <tr>
                    <td>${activity.time}</td>
                    <td><strong>${activity.action}</strong></td>
                    <td>${activity.user}</td>
                    <td>${activity.details}</td>
                    <td>${activity.ip}</td>
                </tr>
            `).join('');
        }

        function logSystemActivity(action, user, details = '') {
            const activity = {
                time: new Date().toLocaleTimeString(),
                action: action,
                user: user,
                details: details,
                ip: '192.168.1.' + Math.floor(Math.random() * 255)
            };
            
            appState.systemActivity.unshift(activity);
            
            // Keep only last 50 activities
            if (appState.systemActivity.length > 50) {
                appState.systemActivity = appState.systemActivity.slice(0, 50);
            }
        }

        // Real-time Updates
        // =================

        function initializeRealtimeUpdates() {
            // Simulate WebSocket connection
            simulateWebSocketConnection();
            
            // Set up polling for updates
            setInterval(() => {
                if (appState.isAuthenticated) {
                    simulateRealTimeUpdate();
                }
            }, 10000);
        }

        function simulateWebSocketConnection() {
            console.log('WebSocket connection established for real-time updates');
            
            // Simulate receiving updates
            setInterval(() => {
                if (appState.isAuthenticated && Math.random() > 0.5) {
                    const updateTypes = [
                        { type: 'points_update', title: 'Points Updated', message: 'Tournament points have been recalculated' },
                        { type: 'match_update', title: 'Match Result', message: 'A match result has been updated' },
                        { type: 'tournament_update', title: 'Tournament Update', message: 'Tournament status has changed' },
                        { type: 'player_update', title: 'Player Activity', message: 'A player has joined a tournament' }
                    ];
                    
                    const randomUpdate = updateTypes[Math.floor(Math.random() * updateTypes.length)];
                    
                    if (appState.currentUser.role === 'player') {
                        showRealtimeNotification(randomUpdate.title, randomUpdate.message);
                    }
                }
            }, 20000);
        }

        function simulateRealTimeUpdate() {
            // Randomly update player points
            if (appState.currentUser && appState.currentUser.role === 'player' && Math.random() > 0.7) {
                const user = appState.users.find(u => u.id === appState.currentUser.id);
                if (user) {
                    const pointsChange = Math.floor(Math.random() * 20) + 5;
                    user.points += pointsChange;
                    appState.currentUser.points = user.points;
                    
                    localStorage.setItem('efootball_user', JSON.stringify(appState.currentUser));
                    
                    // Update UI
                    const statsOverview = document.getElementById('player-stats-overview');
                    if (statsOverview) {
                        const pointsElement = statsOverview.querySelector('.player-stat-card:first-child .player-stat-value');
                        if (pointsElement) {
                            pointsElement.textContent = user.points;
                            pointsElement.classList.add('goal-animation');
                            setTimeout(() => pointsElement.classList.remove('goal-animation'), 1000);
                        }
                    }
                    
                    // Update profile
                    document.getElementById('profile-points').textContent = user.points;
                    
                    showRealtimeNotification('Points Updated', `You earned ${pointsChange} points!`);
                }
            }
        }

        function showRealtimeNotification(title, message) {
            const notification = document.getElementById('realtime-notification');
            const notificationTitle = document.getElementById('realtime-notification-title');
            const notificationMessage = document.getElementById('realtime-notification-message');
            
            notificationTitle.textContent = title;
            notificationMessage.textContent = message;
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }

        // Admin Control Functions (Placeholders)
        // ======================================

        function openPlayerManagement() {
            showRealtimeNotification('Player Management', 'Opening player management interface...');
        }

        function openTournamentControl() {
            showRealtimeNotification('Tournament Control', 'Opening tournament control panel...');
        }

        function openPointsSystem() {
            showRealtimeNotification('Points System', 'Opening points management system...');
        }

        function openGameSettings() {
            showRealtimeNotification('Game Settings', 'Opening game configuration...');
        }

        function openDatabaseManagement() {
            showRealtimeNotification('Database', 'Opening database management...');
        }

        function openRealtimeControl() {
            showRealtimeNotification('Real-time Control', 'Opening real-time update controls...');
        }

        function openSecuritySettings() {
            showRealtimeNotification('Security', 'Opening security settings...');
        }

        function openRoleManagement() {
            showRealtimeNotification('Role Management', 'Opening role management interface...');
        }

        function openPlayerSigning() {
            // Navigate to coach control section
            document.querySelector(`[data-section="coach-control"]`).click();
        }

        function openTeamRoster() {
            // Already in coach section
            showRealtimeNotification('Team Roster', 'Displaying team roster...');
        }

        function openTeamPerformance() {
            showRealtimeNotification('Team Performance', 'Opening team performance analytics...');
        }

        function openTrainingSchedule() {
            showRealtimeNotification('Training Schedule', 'Opening training schedule planner...');
        }

        function refreshAdminData() {
            showRealtimeNotification('Data Refresh', 'Refreshing all system data...');
            loadPlayerStatus();
            loadSystemActivity();
        }

        function refreshRoster() {
            showRealtimeNotification('Roster Refresh', 'Refreshing team roster...');
            loadTeamRoster();
        }

        function manageTournament(tournamentName) {
            showRealtimeNotification('Tournament Management', `Managing ${tournamentName}`);
        }

        // Initialize Sample Data
        // ======================

        function initializeSampleData() {
            // Add some initial goals history
            if (appState.goalsHistory.length === 0) {
                appState.goalsHistory = [
                    { date: '2024-03-15', time: '14:30', team1Goals: 2, team2Goals: 1, totalGoals: 3, team1Efficiency: '15.4%', team2Efficiency: '8.3%' },
                    { date: '2024-03-14', time: '19:00', team1Goals: 3, team2Goals: 3, totalGoals: 6, team1Efficiency: '20.0%', team2Efficiency: '18.8%' },
                    { date: '2024-03-13', time: '16:45', team1Goals: 1, team2Goals: 0, totalGoals: 1, team1Efficiency: '7.7%', team2Efficiency: '0%' }
                ];
                updateGoalsHistory();
            }
        }

        // Event Listeners Setup
        // =====================

        function setupEventListeners() {
            // Role selection
            document.querySelectorAll('.role-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.role-option').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });
            
            // Form submissions
            document.getElementById('login-form').addEventListener('submit', handleLogin);
            document.getElementById('register-form').addEventListener('submit', handleRegister);
            
            // Form switching
            document.getElementById('switch-to-register').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('login-form').style.display = 'none';
                document.getElementById('register-form').style.display = 'block';
            });
            
            document.getElementById('switch-to-login').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('register-form').style.display = 'none';
                document.getElementById('login-form').style.display = 'block';
            });
            
            // Logout button
            document.getElementById('logout-btn').addEventListener('click', handleLogout);
            
            // Navigation
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const sectionId = this.getAttribute('data-section');
                    
                    // Check role-based access
                    const user = appState.currentUser;
                    if ((sectionId === 'admin-control' && user.role !== 'admin') ||
                        (sectionId === 'coach-control' && user.role !== 'coach')) {
                        showRealtimeNotification('Access Denied', 'You do not have permission to access this section');
                        return;
                    }
                    
                    // Update active nav link
                    document.querySelectorAll('.nav-links a').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show selected section
                    document.querySelectorAll('.dashboard-section').forEach(section => {
                        section.classList.remove('active');
                        if (section.id === sectionId) {
                            section.classList.add('active');
                            
                            // Load section-specific data
                            switch(sectionId) {
                                case 'tournaments':
                                    loadAllTournaments();
                                    break;
                                case 'matches':
                                    loadMatches();
                                    break;
                                case 'standings':
                                    loadStandings();
                                    break;
                                case 'goals-calculator':
                                    loadGoalsHistory();
                                    break;
                                case 'coach-control':
                                    loadTeamRoster();
                                    break;
                            }
                        }
                    });
                });
            });
            
            // Goals calculator
            document.getElementById('calculate-goals').addEventListener('click', calculateGoals);
            
            // Coach player signing
            document.getElementById('sign-player-btn').addEventListener('click', function(e) {
                e.preventDefault();
                signPlayer();
            });
            
            // Refresh updates
            document.getElementById('refresh-updates').addEventListener('click', function() {
                loadUpdatesFeed();
                showRealtimeNotification('Updates Refreshed', 'Live updates feed has been refreshed');
            });
        }

        // Export functions for use
        window.efootballSystem = {
            getCurrentUser: () => appState.currentUser,
            getUserRole: () => appState.userRole,
            isAuthenticated: () => appState.isAuthenticated,
            logout: handleLogout,
            showNotification: showRealtimeNotification
        };
    </script>
</body>
</html>
