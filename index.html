<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>eFootballShowdown</title>

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:radial-gradient(circle at top,#0f172a,#020617);
  color:#e5e7eb;
}
nav{
  display:flex;
  justify-content:space-between;
  padding:16px;
  background:rgba(0,0,0,.5);
  box-shadow:0 0 25px #22d3ee;
}
nav h1{color:#22d3ee}
nav a{
  color:#fff;
  margin-left:16px;
  text-decoration:none;
}
nav a:hover{color:#22d3ee}
.container{padding:20px}
.card{
  background:#020617;
  border:1px solid #1e293b;
  border-radius:14px;
  padding:16px;
  margin-bottom:20px;
  box-shadow:0 0 20px rgba(34,211,238,.5);
}
button{
  background:linear-gradient(90deg,#3b82f6,#22d3ee);
  border:none;
  padding:8px 14px;
  font-weight:bold;
  border-radius:8px;
  cursor:pointer;
  box-shadow:0 0 15px #22d3ee;
}
button:hover{box-shadow:0 0 25px #22d3ee}
input,select{
  padding:6px;
  margin:4px 0;
}
table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
}
th,td{
  border:1px solid #1e293b;
  padding:6px;
  text-align:center;
}
th{color:#22d3ee}
.glow{color:#22d3ee;text-shadow:0 0 10px #22d3ee}
.bracket{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
}
.bracket div{
  border:1px solid #22d3ee;
  padding:10px;
  border-radius:10px;
  text-align:center;
  box-shadow:0 0 10px #22d3ee;
}
</style>
</head>

<body>

<nav>
  <h1>⚽ eFootballShowdown</h1>
  <div>
    <a href="#" onclick="show('home')">Home</a>
    <a href="#" onclick="show('admin')">Admin</a>
    <a href="#" onclick="show('tournament')">Tournament</a>
  </div>
</nav>

<div class="container">

<div id="home" class="card">
  <h2 class="glow">Welcome</h2>
  <p>League • Champions League • World Cup</p>
</div>

<div id="admin" class="card" style="display:none">
  <h2 class="glow">Admin Panel</h2>

  <input id="teamInput" placeholder="Team name">
  <button onclick="addTeam()">Add Team</button>

  <br><br>

  <select id="mode">
    <option value="league">League</option>
    <option value="groups">Group Stage</option>
  </select>

  <button onclick="startTournament()">Start Tournament</button>
</div>

<div id="tournament" class="card" style="display:none">
  <h2 class="glow">Tournament</h2>

  <div id="groups"></div>

  <h3>Fixtures</h3>
  <div id="fixtures"></div>

  <h3>League Table</h3>
  <table id="table"></table>

  <h3>Knockout Bracket</h3>
  <div id="bracket" class="bracket"></div>
</div>

</div>

<script>
let teams=[],fixtures=[],groups={},qualified=[],knockout=[];

function show(id){
 ['home','admin','tournament'].forEach(x=>document.getElementById(x).style.display='none');
 document.getElementById(id).style.display='block';
}

function addTeam(){
 const v=document.getElementById('teamInput').value;
 if(!v)return;
 teams.push({name:v,P:0,W:0,D:0,L:0,GF:0,GA:0,PTS:0});
 document.getElementById('teamInput').value='';
}

function startTournament(){
 const mode=document.getElementById('mode').value;
 if(mode==='league')generateLeague();
 if(mode==='groups')generateGroups();
 show('tournament');
}

function generateLeague(){
 fixtures=[];
 for(let i=0;i<teams.length;i++)
  for(let j=i+1;j<teams.length;j++)
   fixtures.push({home:teams[i].name,away:teams[j].name,played:false});
 renderFixtures();
}

function generateGroups(){
 groups={};
 let g='A';
 teams.forEach((t,i)=>{
  if(!groups[g])groups[g]=[];
  groups[g].push(t);
  if(groups[g].length===4)g=String.fromCharCode(g.charCodeAt(0)+1);
 });
 renderGroups();
}

function renderGroups(){
 const div=document.getElementById('groups');
 div.innerHTML='<h3>Groups</h3>';
 Object.keys(groups).forEach(g=>{
  div.innerHTML+=`<strong>Group ${g}</strong>: ${groups[g].map(t=>t.name).join(', ')}<br>`;
 });
 generateLeague();
}

function renderFixtures(){
 const div=document.getElementById('fixtures');
 div.innerHTML='';
 fixtures.forEach((f,i)=>{
  div.innerHTML+=`${f.home} vs ${f.away} <button onclick="play(${i})">Play</button><br>`;
 });
}

function play(i){
 const f=fixtures[i];
 if(f.played)return;
 f.played=true;
 const h=Math.floor(Math.random()*5);
 const a=Math.floor(Math.random()*5);

 let H=teams.find(t=>t.name===f.home);
 let A=teams.find(t=>t.name===f.away);

 H.P++;A.P++;
 H.GF+=h;H.GA+=a;
 A.GF+=a;A.GA+=h;

 if(h>a){H.W++;H.PTS+=3;A.L++}
 else if(a>h){A.W++;A.PTS+=3;H.L++}
 else{H.D++;A.D++;H.PTS++;A.PTS++}

 renderTable();
 checkQualification();
}

function renderTable(){
 const t=document.getElementById('table');
 const s=[...teams].sort((a,b)=>b.PTS-a.PTS||(b.GF-b.GA)-(a.GF-a.GA));
 t.innerHTML='<tr><th>Team</th><th>P</th><th>W</th><th>D</th><th>L</th><th>GD</th><th>PTS</th></tr>';
 s.forEach(x=>{
  t.innerHTML+=`<tr><td>${x.name}</td><td>${x.P}</td><td>${x.W}</td><td>${x.D}</td><td>${x.L}</td><td>${x.GF-x.GA}</td><td class="glow">${x.PTS}</td></tr>`;
 });
}

function checkQualification(){
 qualified=[...teams].sort((a,b)=>b.PTS-a.PTS).slice(0,4);
 if(qualified.length>=4)generateKnockout();
}

function generateKnockout(){
 knockout=[];
 for(let i=0;i<qualified.length;i+=2)
  knockout.push(`${qualified[i].name} vs ${qualified[i+1].name}`);
 renderBracket();
}

function renderBracket(){
 const b=document.getElementById('bracket');
 b.innerHTML='';
 knockout.forEach(m=>b.innerHTML+=`<div>${m}</div>`);
}
</script>

</body>
</html>
